<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title>秒表</title>
	<style type="text/css">
		* {
			margin: 0;
			padding: 0;
			background-color: black;
			color: white;
			outline: none;
			user-select: none; 
			-webkit-user-select: none;
			-moz-user-select: none;
			-ms-user-select: none;
		}
		#root {
			position: absolute;
			width: 100%;
			height: 100%;
		}
		#header {
			height: 10%; 
			padding: 20px;
        	text-align:  center;
        	font-size: 25px;
     	}
     	#content { 
     		display: flex;
            justify-content: center;
            align-items: center;
			height: 70%;
     	}
		#clock {
    		font-size: 200px;
    		color: white;
		}
		
		#footer {
			position: absolute;
			bottom: 0;
			text-align:  center ; 
			height:  2%; 
			width: 100%;
			padding: 15px 0;
			color: gray;
		}

	</style>
</head>
<body>
	<div id='root' >
        <div id='header'>
        	秒表
        </div>  

        <div id='content'>	
            <div id='clock'>
            	<span id='time'>00:00:00</span>
            </div>
        </div>  

        <div id='footer'>
        	stopwatch ©2019 Created by JMx
        </div>
    </div>
	
	<script type="text/javascript">
		function $$(id) {
			return document.getElementById(id);
		}

		var time = {};
		var is_run = true;
		var time = $$('time');
		var minite = 0;
		var second = 0;
		var percent = 0;
		var milliseconds = 0;
		var duration = 50;
		var middle_width = document.body.clientWidth / 2;

	    function update() {
	    	if( !is_run  ) return;
	    	milliseconds += duration;
	    	percent = Math.floor( milliseconds/10 ) % 100;
	    	
	    	if( percent == 0 ) {
	    		second += 1;
	    		second = second % 60;
	    		if( second == 0 ) {
	    			minite += 1;
	    			minite = minite % 60;
	    		}
	    	}
	    	time.innerText = ((minite % 60) + '').padStart(2, '0') + ':' 
	    					+ ((second % 60) + '').padStart(2, '0') + ':'
	    					+ ((percent % 60) + '').padStart(2, '0');
	    	setTimeout(update , duration);
	    }

	    setTimeout(update, 10);

	    function reset() {
	    	is_run = false;
	    	milliseconds = 0;
	    	minite_ele.innerText = '00';
	    	second_ele.innerText = '00';
	    	percent_ele.innerText = '00';
	    }

	    function pause() {
	    	is_run = !is_run;
	    	if( is_run ) {
	    		update()
	    	}
	    }

	    document.addEventListener('dblclick', function(e) {
	    	// 双击左侧，复位, 右侧暂停
	    	if( e.screenX < middle_width ) {
	    		reset();
	    	} else {
	    		pause();
	    	}
	    })


	</script>
</body>
</html>